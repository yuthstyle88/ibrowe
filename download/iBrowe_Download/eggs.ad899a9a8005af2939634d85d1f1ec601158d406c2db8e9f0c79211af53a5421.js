(()=>{(()=>{var n=[],e=class{static rand=(t=0,i=1)=>t+Math.random()*(i-t);static Vector2=class{constructor(t,i){this.x=t||0,this.y=i||0}add(t){this.x+=t.x,this.y+=t.y}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}}},o=class{constructor(t,i,s,a){this.origin=t,this.position=new e.Vector2(t.x,t.y),this.velocity=i,this.size=s,this.amplitude=a,this.dx=Math.random()*100}update(t){this.position.y+=this.velocity.y*t,this.dx+=this.velocity.x*t,this.position.x=this.origin.x+this.amplitude*Math.sin(this.dx)}},c=class{canvas=null;ctx=null;particles=[];running=!1;max_height=500;start_time=0;frame_time=0;constructor(t){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.resize(window.innerWidth,Math.min(window.innerHeight,this.max_height)),this.numParticles=1e3,this.particleSizeRange=[.5,1.5],this.xOscilationRange=[.1,1],this.fallSpeedRange=[35,100],this.xMovementRange=[25,50],this.#i(),this.start()}start(){this.running=!0,this.start_time=this.frame_time=Date.now()*.001,this.#t()}resize(t,i){this.canvas.width=t,this.canvas.height=Math.min(i,this.max_height)}#t(){this.running&&(this.#e(),this.#s(),this.#n(),this.#a())}#i(){this.particles.length=0;for(let t=0;t<this.numParticles;t++){let i=new e.Vector2(e.rand(0,this.canvas.width),e.rand(-this.canvas.height,0)),s=new e.Vector2(e.rand(this.xOscilationRange[0],this.xOscilationRange[1]),e.rand(this.fallSpeedRange[0],this.fallSpeedRange[1])),a=e.rand(this.particleSizeRange[0],this.particleSizeRange[1]),d=e.rand(this.xMovementRange[0],this.xMovementRange[1]);this.particles.push(new o(i,s,a,d))}}#s(){let t=Date.now()*.001,i=t-this.frame_time;for(let s of this.particles)s.update(i),s.position.y-s.size>this.canvas.height&&(s.position.y=-s.size,s.position.x=s.origin.x=Math.random()*this.canvas.width);this.frame_time=t}#e(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}#n(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let t of this.particles){let i=200+Math.random()*55,s=1-t.position.y/this.canvas.height;this.ctx.fillStyle=`rgba(${i},${i},${i},${s})`,this.ctx.beginPath(),this.ctx.arc(t.position.x,t.position.y,t.size,0,Math.PI*2),this.ctx.closePath(),this.ctx.fill()}}#a(){requestAnimationFrame(this.#t.bind(this))}},h=t=>{n.push(t.key),n.length>6&&n.shift(),n.join("").match(/^(ho){3}$/i)&&(document.removeEventListener("keydown",h),r())};document.addEventListener("keydown",h);function r(){let t=document.createElement("canvas");Object.assign(t.style,{zIndex:"9999",position:"fixed",pointerEvents:"none"}),t.id="snowfall",document.body.insertBefore(t,document.body.firstChild);let i=new c(t);window.addEventListener("resize",()=>{i.resize(window.innerWidth,window.innerHeight)})}})();})();
